"use strict";window.isGalleryOpen=!1;var MainMenu=function(t,i){function a(){t(this).parent().find(".pressed").removeClass("pressed"),39==e.keyCode?t(this).parent().find(".right").focus().addClass("pressed"):37==e.keyCode&&t(this).parent().find(".left").focus().addClass("pressed")}var n="#555555",o="#949494",r="#f7a800",s="#ffe0ae";t(".main-menu .page-content").find("a").attr("tabindex","-1");var d,l=!0,h=window.history.location||window.location,c=h.pathname.split("/").pop(),f=-1!==h.pathname.search("/utility/"),p=new TimelineMax,g=new TimelineMax({repeat:-1,repeatDelay:5,yoyo:!0}),u=["surprising","serving","spending"],m=["branding","engaging","humanchanneling","integrating","orienteering","positioning"],v=0,w=Power2.easeInOut,x=t(".carousel.slide.popup, .carousel.slide.gallery");t.removeCookie("previousUrl",{path:"/"}),t.removeCookie("utilityMenuOpen"),x.on("keyup",a),t(document).ready(function(){if(""===c||f)""!==c&&f&&(t(".arrow-down, .extension-header").slideDown(),t(".shadow-main").show(),t(".menuicon").addClass("is-active").parent("li").addClass("orange"),t(".div-exlist").find("#utility-"+c).addClass("selected"),t(".div-iconlist").find("#utility-"+c).parent().addClass("orange"),t(".modal#"+c).modal("show"),"gallery-legacy"==c&&showGallery());else{var e=t(".main-menu [href="+c+"]"),i=e.length>0;i||(h.href="/"),e.next().find("a").attr("tabindex","0"),e.next().find(".imgShow-div .pause-button").attr("tabindex","0"),e.addClass("orange");var a=0;e.parent().siblings().each(function(){0==a?(p.to(t(this).children("a"),.5,{css:{fontSize:"20px"},ease:w}),a++):p.to(t(this).children("a"),.5,{css:{fontSize:"20px"},ease:w},"-=0.45")}),p.add(TweenLite.set(e.next(),{height:"auto"})),p.add(TweenLite.from(e.next(),.5,{height:"0",ease:w}),"-=0.35"),p.add(TweenLite.to(e.next().find("a"),.5,{onComplete:function(){var i,a,n,o=[];if(e.next().addClass("is-active"),-1!=t.inArray(c,u)){var r=e.parent().find(".text-div").outerHeight()+20;r=250>r?250:r,e.parent().find(".imgShow-div .imageVideo").height(r),i=e.parent().find(".imgShow-div .image-wrap").hide(),a=e.parent().find(".imgShow-div .image-wrap").find(".lazy"),n=e.parent().find(".imgShow-div .imageVideo").find(".lazy-loading"),a.each(function(){var e,i,a=t(this);e=a.attr("data-src"),e&&(i=t.Deferred(),a.one("load",i.resolve).attr("src",e).attr("data-src",""),o.push(i.promise()))}),t.when.apply(t,o).done(function(){n.fadeOut(1e3),i.fadeIn(1e3);var t=e.parent().find(".imgShow-div").find(".imageVideo").length>0;t&&(e.parent().find(".imgShow-div").find(".imageVideo").imageWrapHeights(),d=e.parent().find(".imgShow-div").find(".imageVideo")[0].timeLineSlider,d.play())})}-1!=t.inArray(c,m)&&(i=e.parent().find(".tile-container").hide(),a=e.parent().find(".tile-container").find(".lazy"),n=e.parent().find(".lazy-loading"),a.each(function(){var e,i,a=t(this);e=a.attr("data-src"),e&&(i=t.Deferred(),a.one("load",i.resolve).attr("src",e).attr("data-src",""),o.push(i.promise()))}),t.when.apply(t,o).done(function(){n.fadeOut(1e3),i.fadeIn(1e3)}))}})),g.clear(),g.add(TweenMax.to(e.next().find(".sub-close-icon .subpage-close-button"),2,{rotation:360,transformOrigin:"50% 50%",ease:Sine.easeInOut})),l=!1}t(".ham-icon").on("click",function(e){e.preventDefault(),t(this).toggleClass("is-active"),t("body").toggleClass("nav-expanded")}),t(".tile-item").not(".tile-disable").hover(function(){TweenLite.to(t(this),.1,{scale:1.1})},function(){TweenLite.to(t(this),.1,{scale:1})}),t(".main-menu .item").children("a").hover(function(){return t(this).hasClass("orange")?!1:1==p.isActive()?!1:(TweenLite.to(t(this),.3,{scale:1.1,color:r}),void TweenLite.to(t(this).find(".grey"),.3,{color:s}))},function(){if(t(this).hasClass("orange"))return!1;if(1==p.isActive())return!1;var e=t(this).hasClass("grey");TweenLite.to(t(this),.3,{scale:1,color:e?o:n}),TweenLite.to(t(this).find(".grey"),.3,{color:o})}),t(".main-menu .item").children("a").click(function(){if(t(this).hasClass("orange"))return!1;if(1==p.isActive())return!1;d&&d.pause(0);var e=(t(this).parent()[0],this),i="#555555",a="#949494",n=t(".item .orange"),o=t(e).attr("id");v=0,t.cookie("previousUrl",window.location.href,{path:"/"}),window.history.pushState(null,null,"/"+t(this).attr("href"));var r,s,h,c=[];if(-1!=t.inArray(o,u)){var f=t(e).parent().find(".text-div").outerHeight()+20;f=250>f?250:f,t(e).parent().find(".imgShow-div .imageVideo").height(f),r=t(e).parent().find(".imgShow-div .image-wrap").hide(),s=t(e).parent().find(".imgShow-div .image-wrap").find(".lazy"),h=t(e).parent().find(".imgShow-div .imageVideo").find(".lazy-loading"),s.each(function(){var e,i,a=t(this);e=a.attr("data-src"),e&&(i=t.Deferred(),a.one("load",i.resolve).attr("src",e).attr("data-src",""),c.push(i.promise()))}),t.when.apply(t,c).done(function(){h.fadeOut(1e3),r.fadeIn(1e3);var i=t(e).parent().find(".imgShow-div").find(".imageVideo").length>0;i&&(t(e).parent().find(".imgShow-div").find(".imageVideo").imageWrapHeights(),d=t(e).parent().find(".imgShow-div").find(".imageVideo")[0].timeLineSlider,d.play())})}if(-1!=t.inArray(o,m)&&(r=t(e).parent().find(".tile-container").hide(),s=t(e).parent().find(".tile-container").find(".lazy"),h=t(e).parent().find(".lazy-loading"),s.each(function(){var e,i,a=t(this);e=a.attr("data-src"),e&&(i=t.Deferred(),a.one("load",i.resolve).attr("src",e).attr("data-src",""),c.push(i.promise()))}),t.when.apply(t,c).done(function(){h.fadeOut(1e3),r.fadeIn(1e3)})),1==l){p.clear(),p.to(t(this),.25,{scale:1,ease:w});var x=0;t(this).parent().siblings().each(function(){0==x?(p.to(t(this).children("a"),.5,{css:{fontSize:"20px",scale:1},ease:w}),x++):p.to(t(this).children("a"),.5,{css:{fontSize:"20px",scale:1},ease:w},"-=0.45")}),p.add(TweenLite.set(t(this).next(),{height:"auto"}),"feature"),p.add(TweenLite.from(t(this).next(),.5,{height:"0",ease:w}),"feature-=0.35"),p.add(TweenLite.to(t(this).next(),.5,{onComplete:function(){t(e).next().addClass("is-active")}}),"feature"),t(this).addClass("orange"),l=!1}else{p.clear(),p.to(t(this),.25,{scale:1,ease:w}),p.to(n.next(),0,{onComplete:function(){n.next().removeClass("is-active")}},"cleanup"),p.to(n.next(),.5,{height:"0",ease:w},"cleanup+=0.5");var y=n,C="engaging"===y.attr("id")||"integrating"===y.attr("id")||"spending"===y.attr("id");C?p.to(y,.5,{color:a,ease:w},"cleanup+=0.25"):(p.to(y,.5,{color:i,ease:w},"cleanup+=0.25"),p.to(y.find(".grey"),.5,{color:a,ease:w},"cleanup+=0.25")),t(".item .orange").next().find("a").attr("tabindex","-1"),t(".item .orange").next().find(".imgShow-div .pause-button").attr("tabindex","-1"),t(this).parent().siblings().each(function(){t(this).children("a").hasClass("orange")&&(p.to(t(this).children("a"),.5,{fontSize:"20px",scale:1,ease:w},"feature"),p.to(t(this).children("a").next(),.5,{height:"0",scale:1,ease:w},"feature+=0.25"),t(this).children("a").removeClass("orange"))}),t(".item").find(".orange").removeClass("orange"),p.to(t(this),.5,{fontSize:"67px",ease:w},"feature"),p.add(TweenLite.set(t(this).next(),{height:"auto"})),p.add(TweenLite.from(t(this).next(),.5,{height:"0",ease:w}),"feature+=0.25"),p.to(t(this).next(),.5,{onComplete:function(){t(e).next().addClass("is-active")}},"feature"),t(this).addClass("orange")}g.clear(),g.add(TweenMax.to(t(e).next().find(".sub-close-icon .subpage-close-button"),2,{rotation:360,transformOrigin:"50% 50%",ease:Sine.easeInOut})),t(e).next().find("a").attr("tabindex","0"),t(e).next().find(".imgShow-div .pause-button").attr("tabindex","0")}),t(".sub-close-icon").hover(function(){TweenMax.to(t(this).find(".subpage-close-button"),.5,{rotation:90,transformOrigin:"50% 50%",ease:Back.easeOut})},function(){TweenMax.to(t(this).find(".subpage-close-button"),.5,{rotation:0,transformOrigin:"50% 50%",ease:Back.easeOut})}),t(".sub-close-icon").click(function(e){var i="#77777a",a="#949494",n=t(this).parent(".page-content");e.preventDefault(),t.cookie("previousUrl",window.location.href,{path:"/"}),window.history.pushState(null,null,"/"),p.clear(),p.to(n,0,{onComplete:function(){n.removeClass("is-active")}},"cleanup+=0.5"),p.to(n,.5,{height:"0",ease:w},"cleanup+=0.5");var o=t(".item .orange"),r="engaging"===o.attr("id")||"integrating"===o.attr("id")||"spending"===o.attr("id");r?p.to(o,.5,{color:a,ease:w},"cleanup+=0.25"):(p.to(o,.5,{color:i,ease:w},"cleanup+=0.25"),p.to(o.find(".grey"),.5,{color:a,ease:w},"cleanup+=0.25")),t(this).parent(".page-content").prev("a").removeClass("orange");var s=0;t(this).parents(".item").siblings().each(function(){0==s?(p.to(t(this).children("a"),.5,{css:{fontSize:"67px"},ease:w}),s++):p.to(t(this).children("a"),.5,{css:{fontSize:"67px"},ease:w},"-=0.45")}),t(this).parent(".page-content").find("a").attr("tabindex","-1"),t(this).parent(".page-content").find(".pause-button").attr("tabindex","-1"),l=!0,d.clear()})})}(jQuery,ResponsiveBootstrapToolkit);