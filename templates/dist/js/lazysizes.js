!function(e,t){var n=t(e,e.document);e.lazySizes=n,"object"==typeof module&&module.exports?module.exports=n:"function"==typeof define&&define.amd&&define(n)}(window,function(e,t){"use strict";if(t.getElementsByClassName){var n,i=t.documentElement,a=e.HTMLPictureElement&&"sizes"in t.createElement("img"),r="addEventListener",o="getAttribute",s=e[r],l=e.setTimeout,c=e.requestAnimationFrame||l,d=/^picture$/i,u=["load","error","lazyincluded","_lazyloaded"],f={},m=Array.prototype.forEach,z=function(e,t){return f[t]||(f[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),f[t].test(e[o]("class")||"")&&f[t]},g=function(e,t){z(e,t)||e.setAttribute("class",(e[o]("class")||"").trim()+" "+t)},v=function(e,t){var n;(n=z(e,t))&&e.setAttribute("class",(e[o]("class")||"").replace(n," "))},y=function(e,t,n){var i=n?r:"removeEventListener";n&&y(e,t),u.forEach(function(n){e[i](n,t)})},h=function(e,n,i,a,r){var o=t.createEvent("CustomEvent");return o.initCustomEvent(n,!a,!r,i||{}),e.dispatchEvent(o),o},p=function(t,i){var r;!a&&(r=e.picturefill||n.pf)?r({reevaluate:!0,elements:[t]}):i&&i.src&&(t.src=i.src)},C=function(e,t){return(getComputedStyle(e,null)||{})[t]},b=function(e,t,i){for(i=i||e.offsetWidth;i<n.minSize&&t&&!e._lazysizesWidth;)i=t.offsetWidth,t=t.parentNode;return i},A=function(t){var n,i=0,a=e.Date,r=function(){n=!1,i=a.now(),t()},o=function(){l(r)},s=function(){c(o)};return function(){if(!n){var e=125-(a.now()-i);n=!0,6>e&&(e=6),l(s,e)}}},E=function(){var a,u,f,b,E,M,w,_,x,W,B,S,L,R,D,T=/^img$/i,k=/^iframe$/i,F="onscroll"in e&&!/glebot/.test(navigator.userAgent),O=0,P=0,$=0,H=0,I=0,j=function(e){$--,e&&e.target&&y(e.target,j),(!e||0>$||!e.target)&&($=0)},q=function(e,n){var a,r=e,o="hidden"==C(t.body,"visibility")||"hidden"!=C(e,"visibility");for(x-=n,S+=n,W-=n,B+=n;o&&(r=r.offsetParent)&&r!=t.body&&r!=i;)o=(C(r,"opacity")||1)>0,o&&"visible"!=C(r,"overflow")&&(a=r.getBoundingClientRect(),o=B>a.left&&W<a.right&&S>a.top-1&&x<a.bottom+1);return o},G=function(){var e,t,r,s,l,c,d,m,z;if((E=n.loadMode)&&8>$&&(e=a.length)){t=0,H++,null==R&&("expand"in n||(n.expand=i.clientHeight>600?i.clientWidth>860?500:410:359),L=n.expand,R=L*n.expFactor),R>P&&1>$&&H>3&&E>2?(P=R,H=0):P=E>1&&H>2&&6>$?L:O;for(;e>t;t++)if(a[t]&&!a[t]._lazyRace)if(F)if((m=a[t][o]("data-expand"))&&(c=1*m)||(c=P),z!==c&&(w=innerWidth+c*D,_=innerHeight+c,d=-1*c,z=c),r=a[t].getBoundingClientRect(),(S=r.bottom)>=d&&(x=r.top)<=_&&(B=r.right)>=d*D&&(W=r.left)<=w&&(S||B||W||x)&&(f&&3>$&&!m&&(3>E||4>H)||q(a[t],c))){if(Y(a[t]),l=!0,$>9)break}else!l&&f&&!s&&4>$&&4>H&&E>2&&(u[0]||n.preloadAfterLoad)&&(u[0]||!m&&(S||B||W||x||"auto"!=a[t][o](n.sizesAttr)))&&(s=u[0]||a[t]);else Y(a[t]);s&&!l&&Y(s)}},J=A(G),K=function(e){g(e.target,n.loadedClass),v(e.target,n.loadingClass),y(e.target,Q)},Q=function(e){e={target:e.target},c(function(){K(e)})},U=function(e,t){try{e.contentWindow.location.replace(t)}catch(n){e.src=t}},V=function(e){var t,i,a=e[o](n.srcsetAttr);(t=n.customMedia[e[o]("data-media")||e[o]("media")])&&e.setAttribute("media",t),a&&e.setAttribute("srcset",a),t&&(i=e.parentNode,i.insertBefore(e.cloneNode(),e),i.removeChild(e))},X=function(){var e,t=[],n=function(){for(;t.length;)t.shift()();e=!1},i=function(i){t.push(i),e||(e=!0,c(n))};return{add:i,run:n}}(),Y=function(e){var t,i,a,r,s,u,C,A=T.test(e.nodeName),E=A&&(e[o](n.sizesAttr)||e[o]("sizes")),M="auto"==E;(!M&&f||!A||!e.src&&!e.srcset||e.complete||z(e,n.errorClass))&&(M&&(C=e.offsetWidth),e._lazyRace=!0,$++,n.rC&&(C=n.rC(e,C)||C),X.add(function(){I++,(s=h(e,"lazybeforeunveil")).defaultPrevented||(E&&(M?(N.updateElem(e,!0,C),g(e,n.autosizesClass)):e.setAttribute("sizes",E)),i=e[o](n.srcsetAttr),t=e[o](n.srcAttr),A&&(a=e.parentNode,r=a&&d.test(a.nodeName||"")),u=s.detail.firesLoad||"src"in e&&(i||t||r),s={target:e},u&&(y(e,j,!0),clearTimeout(b),b=l(j,2500),g(e,n.loadingClass),y(e,Q,!0)),r&&m.call(a.getElementsByTagName("source"),V),i?e.setAttribute("srcset",i):t&&!r&&(k.test(e.nodeName)?U(e,t):e.src=t),(i||r)&&p(e,{src:t})),c(function(){e._lazyRace&&delete e._lazyRace,v(e,n.lazyClass),(!u||e.complete)&&(u?j(s):$--,K(s))})}))},Z=function(){if(!f){if(Date.now()-M<999)return void l(Z,999);var e,t=function(){n.loadMode=3,J()};f=!0,n.loadMode=3,I?J():l(function(){G(),X.run()}),s("scroll",function(){3==n.loadMode&&(n.loadMode=2),clearTimeout(e),e=l(t,99)},!0)}};return{_:function(){M=Date.now(),a=t.getElementsByClassName(n.lazyClass),u=t.getElementsByClassName(n.lazyClass+" "+n.preloadClass),D=n.hFac,s("scroll",J,!0),s("resize",J,!0),e.MutationObserver?new MutationObserver(J).observe(i,{childList:!0,subtree:!0,attributes:!0}):(i[r]("DOMNodeInserted",J,!0),i[r]("DOMAttrModified",J,!0),setInterval(J,999)),s("hashchange",J,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(e){t[r](e,J,!0)}),/d$|^c/.test(t.readyState)?Z():(s("load",Z),t[r]("DOMContentLoaded",J),l(Z,2e4)),J(a.length>0)},checkElems:J,unveil:Y}}(),N=function(){var e,i=function(e,t,n){var i,a,r,o,s=e.parentNode;if(s&&(n=b(e,s,n),o=h(e,"lazybeforesizes",{width:n,dataAttr:!!t}),!o.defaultPrevented&&(n=o.detail.width,n&&n!==e._lazysizesWidth))){if(e._lazysizesWidth=n,n+="px",e.setAttribute("sizes",n),d.test(s.nodeName||""))for(i=s.getElementsByTagName("source"),a=0,r=i.length;r>a;a++)i[a].setAttribute("sizes",n);o.detail.dataAttr||p(e,o.detail)}},a=function(){var t,n=e.length;if(n)for(t=0;n>t;t++)i(e[t])},r=A(a);return{_:function(){e=t.getElementsByClassName(n.autosizesClass),s("resize",r)},checkElems:r,updateElem:i}}(),M=function(){M.i||(M.i=!0,N._(),E._())};return function(){var t,i={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.7,hFac:.8,loadMode:2};n=e.lazySizesConfig||e.lazysizesConfig||{};for(t in i)t in n||(n[t]=i[t]);e.lazySizesConfig=n,l(function(){n.init&&M()})}(),{cfg:n,autoSizer:N,loader:E,init:M,uP:p,aC:g,rC:v,hC:z,fire:h,gW:b}}});