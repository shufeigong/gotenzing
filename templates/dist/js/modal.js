!function(o){o(document).ready(function(){var n,a=o(".modal.carousel.slide.gallery, .modal.carousel.slide.popup"),e=o(".modal.modal-fullscreen"),i=o(".modal.mobile-modal"),l=o(".modal.popup"),t=o(".modal.modal-content-box"),d=o(".carousel.slide.subpage,.carousel.slide.mobile"),s=!0;d.on("slide.bs.carousel",function(n){var a;a=o(n.relatedTarget).find("img[data-original]"),a.attr("src",a.data("original")),a.removeAttr("data-src")}),a.on("slide.bs.carousel",function(n){var a;a=o(n.relatedTarget).find("img[data-original]"),a.attr("src",a.data("original")),a.removeAttr("data-src")}),a.on("slid.bs.carousel",function(a){var e=a.relatedTarget,i=o(e).find(".videoWrapper").length>0;if(i){var l=o(e).find("iframe").get(0);n=$f(l);var t=o(e).find(".video-play-button");s&&(n.api("play"),s=!1),n.addEvent("ready",function(){n.addEvent("pause",function(){t.fadeIn()}),n.addEvent("play",function(){t.fadeOut()})}),t.bind("click",function(){n.api("play")})}else void 0!=n&&n.api("pause")}),a.on("show.bs.modal",function(n){var a=3040+10*o(".modal:visible").length;o(this).css("z-index",a),setTimeout(function(){o(".modal-backdrop").addClass("modal-backdrop-gallery").css("z-index",3035)},0)}),a.on("hide.bs.modal",function(){void 0!=n&&n.api("unload"),s=!0}),e.on("show.bs.modal",function(n){console.log("full show"),o(".modal-fullscreen.fade.in").modal("hide");var a=1040+10*o(".modal:visible").length;o(this).css("z-index",a),o(this).focus(),setTimeout(function(){},0)}),i.on("show.bs.modal",function(n){console.log("mobile show");var a=1040+10*o(".modal:visible").length;o(this).css("z-index",a),setTimeout(function(){},0)}),l.on("show.bs.modal",function(o){console.log("popup mobile show"),setTimeout(function(){},0)}),e.on("shown.bs.modal",function(n){function a(){l=new google.maps.Map(document.getElementById("toronto-map"),{zoom:15,center:{lat:43.644518,lng:-79.395313}}),t=new google.maps.Map(document.getElementById("london-map"),{zoom:15,center:{lat:42.981651,lng:-81.247711}}),d=new google.maps.Marker({map:l,draggable:!0,animation:google.maps.Animation.DROP,position:{lat:43.644518,lng:-79.395313}}),d.addListener("click",e),s=new google.maps.Marker({map:t,draggable:!0,animation:google.maps.Animation.DROP,position:{lat:42.981651,lng:-81.247711}}),s.addListener("click",e)}function e(){null!==d.getAnimation()?d.setAnimation(null):d.setAnimation(google.maps.Animation.BOUNCE),null!==s.getAnimation()?s.setAnimation(null):s.setAnimation(google.maps.Animation.BOUNCE)}o("body").css("overflow","hidden"),o(this).css("overflow","hidden");var i=n.currentTarget;if("contact"==o(i).attr("id")){a();var l,t,d,s}}),t.on("shown.bs.modal",function(n){o("body").css("overflow","hidden"),o(this).css("overflow","hidden")}),i.on("shown.bs.modal",function(n){console.log("mobile shown"),o("body").css("overflow","hidden"),o(this).css("overflow","auto")}),e.on("hide.bs.modal",function(o){}),i.on("hide.bs.modal",function(o){console.log("mobile hide")}),e.on("hidden.bs.modal",function(n){o("body").css("overflow","auto")}),i.on("hidden.bs.modal",function(n){o("body").css("overflow","auto")}),l.on("hidden.bs.modal",function(n){o("body").css("overflow","auto")})})}(jQuery);