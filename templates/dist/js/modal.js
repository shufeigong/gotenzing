!function(o){o(document).ready(function(){var n,e=o(".modal.carousel.slide.gallery, .modal.carousel.slide.popup"),i=o(".modal.modal-fullscreen"),a=o(".modal.mobile-modal"),l=o(".modal.popup"),s=o(".modal.modal-content-box"),t=o(".carousel.slide.subpage"),d=!0;t.on("slide.bs.carousel",function(){}),e.on("slid.bs.carousel",function(e){var i=e.relatedTarget,a=o(i).find(".videoWrapper").length>0;if(a){var l=o(i).find("iframe").get(0);n=$f(l);var s=o(i).find(".video-play-button");d&&(n.api("play"),d=!1),n.addEvent("ready",function(){n.addEvent("pause",function(){s.fadeIn()}),n.addEvent("play",function(){s.fadeOut()})}),s.bind("click",function(){n.api("play")})}else void 0!=n&&n.api("pause")}),e.on("show.bs.modal",function(n){var e=3040+10*o(".modal:visible").length;o(this).css("z-index",e),setTimeout(function(){o(".modal-backdrop").addClass("modal-backdrop-gallery").css("z-index",3035)},0)}),e.on("hide.bs.modal",function(){void 0!=n&&n.api("unload"),d=!0}),i.on("show.bs.modal",function(n){console.log("full show"),o(".modal-fullscreen.fade.in").modal("hide");var e=1040+10*o(".modal:visible").length;o(this).css("z-index",e),o(this).focus(),setTimeout(function(){},0)}),a.on("show.bs.modal",function(n){console.log("mobile show");var e=1040+10*o(".modal:visible").length;o(this).css("z-index",e),setTimeout(function(){},0)}),l.on("show.bs.modal",function(o){console.log("popup mobile show"),setTimeout(function(){},0)}),i.on("shown.bs.modal",function(n){function e(){l=new google.maps.Map(document.getElementById("toronto-map"),{zoom:15,center:{lat:43.644518,lng:-79.395313}}),s=new google.maps.Map(document.getElementById("london-map"),{zoom:15,center:{lat:42.981651,lng:-81.247711}}),t=new google.maps.Marker({map:l,draggable:!0,animation:google.maps.Animation.DROP,position:{lat:43.644518,lng:-79.395313}}),t.addListener("click",i),d=new google.maps.Marker({map:s,draggable:!0,animation:google.maps.Animation.DROP,position:{lat:42.981651,lng:-81.247711}}),d.addListener("click",i)}function i(){null!==t.getAnimation()?t.setAnimation(null):t.setAnimation(google.maps.Animation.BOUNCE),null!==d.getAnimation()?d.setAnimation(null):d.setAnimation(google.maps.Animation.BOUNCE)}o("body").css("overflow","hidden"),o(this).css("overflow","hidden");var a=n.currentTarget;if("contact"==o(a).attr("id")){e();var l,s,t,d}}),s.on("shown.bs.modal",function(n){o("body").css("overflow","hidden"),o(this).css("overflow","hidden")}),a.on("shown.bs.modal",function(n){console.log("mobile shown"),o("body").css("overflow","hidden"),o(this).css("overflow","auto")}),i.on("hide.bs.modal",function(o){}),a.on("hide.bs.modal",function(o){console.log("mobile hide")}),i.on("hidden.bs.modal",function(n){o("body").css("overflow","auto")}),a.on("hidden.bs.modal",function(n){o("body").css("overflow","auto")}),l.on("hidden.bs.modal",function(n){o("body").css("overflow","auto")})})}(jQuery);